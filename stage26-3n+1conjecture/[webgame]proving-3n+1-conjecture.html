<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Proving 3n+1 Gonjecture</title>
    <style>
        body {
            font-family: Menlo, Consolas, monospace;
            color: #444;
        }
        
        .item {
            cursor: pointer;
        }
        
        .bold {
            font-weight: bold;
        }
        
        ul {
            list-style-type: square;
            margin: 0, auto, 0, auto;
            padding: 0, auto, 0, auto;
        }
    </style>
    <script src="//2293.ml/tide/polar.js"></script>
    <script src="vue.min.js"></script>

</head>

<body>
    <h2>3n+1 Probelm, Collatz conjecture (3n+1问题)</h2>
    <details>
        <p><b>Collatz conjecture</b>: successive operations on a number as dividing it by 2 if it is even and else multiply it by 3 and add 1. The conjecture says that the sequence ends with 1.<br> It is also known as the <b>3n+1 problem</b> or the <b>Hailstone problem</b>.
            The function is<br> f:(n)=> n%2==1? 3*n+1: n/2<br> For example,f(3)=10. And f(10)=5. This leads to the sequence 3, 10, 5, 16, 4, 2, 1, 4, 2, 1, ... which indeed reaches 1. A sequence obtained by iterating the function from a given starting
            value is sometimes called "the trajectory" of that starting value.</p>
    </details>
    <textarea name="editor1" id="editor1" cols="60" rows="18">
 /* solve_3n+1_probelm.js v1.0.0
 * (c) 2019 Cody Luo (github.com/a-boy/playmath/)
 */
 var collatz_problem={
   f:(n)=> n%2==1? 3*n+1: n/2,
   //Syracuse function
   g:(n)=>{ while(n%2==0) n/=2;
    n=3*n+1;
    while(n%2==0) n/=2;
    return n
    }, 
   s:0,
   S:0,
   h:(n)=> 4*n+1 ,
   v:(n)=> n%3==0?null:(n%3==1?(4*n-1)/3:(2*n-1)/3)	
 }
 Object.assign(window,collatz_problem);
    </textarea>
    <script src="solve_3n+1_problem.js"></script>
    <h2>Collatz-Odd-Tree Generation Rule(Collatz正奇数回归树生成规则)</h2>
    <ol>
        <li><a href="#">v(x)= x%3==0?null:(x%3==1?(4*x-1)/3:(2*x-1)/3)</a> to generate the first child of x</li>
        <li><a href="#" onclick="">h(x)=4*x+1</a> to generate the next sibling of x</li>
        <li>x is a leaf node in the full Collatz-Odd-Tree iff (x%3==0)</li>
    </ol>
    <textarea name="CollatzOddTreeEditor" id="CollatzOddTreeEditor" cols="150" rows="10">
1:{5:{3,13},21,85,341}
</textarea>
    <p>x:<input type="text" name="x" id="x"> x%3:<input type="text" name="xmod3" id="xmod3"></p>
    <div id="container1">
        <!-- item template -->
        <script type="text/x-template" id="item-template">
            <li>
                <div :class="{bold: isFolder}" @click="toggle" @dblclick="changeType">
                    {{model.name}}
                    <span v-if="isFolder">[{{open ? '-' : '+'}}]</span>
                </div>
                <ul v-show="open" v-if="isFolder">
                    <item class="item" v-for="model in model.children" :model="model">
                    </item>
                    <li class="add" @click="addChild">+</li>
                </ul>
            </li>
        </script>

        <p>(You can double click on an item to add 5 nodes if n%3!=0)</p>

        <!-- the demo root element -->
        <ul id="demo">
            <item class="item" :model="treeData">
            </item>
        </ul>

        <!-- demo code -->
        <script src="tree.js"></script>

        <textarea name="editor2" id="editor2" cols="125" rows="15">
1
1,5,21,85,341, ..., a[i]= (2^(2*i)-1)/3; a[i]= (4*(a[i-1]*3+1) -1)/3=4*a[i-1]+1, for i=1,2,3,... h(x)=4*x+1
  
5<--3,v(x)= (2*x-1)/3 if(x%3==2);
21
85<--113,v(x)=(4*x-1)/3 elif(x%3==1)

```
a[0]:=n ,
a[k+1]:= 3*a[k]+1 if is_odd(a[k])
a[k+1]:= a[k]/2   elif is_even(a[k]) , for k=0,1,2,3,...

def f(x):= 3*x+1 if x%2==1 else x//2
a[k+1]:=f(a[k])

# Syracuse function g(n)
def g(n):
    while n%2==0 : n/=2
    n=3*n+1
    while n%2==0 : n/=2
    return n
```
</textarea>

    </div>
</body>

</html>